# grammY Skills –¥–ª—è AirPost

–ù–∞–±–æ—Ä skills –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram-–±–æ—Ç–æ–º –Ω–∞ grammY –≤ –ø—Ä–æ–µ–∫—Ç–µ AirPost.

## –î–æ—Å—Ç—É–ø–Ω—ã–µ skills:

### üìù `/grammy-command` - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∫–æ–º–∞–Ω–¥—ã
–î–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É –≤ –±–æ—Ç–∞ —Å —É—á—ë—Ç–æ–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞:
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥—ã –≤ `bot.service.ts`
- –°–æ–∑–¥–∞–Ω–∏–µ –º–µ—Ç–æ–¥–∞ –≤ `bot-template.service.ts`
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –º–µ–Ω—é –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞
- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```
/grammy-command –¥–æ–±–∞–≤—å –∫–æ–º–∞–Ω–¥—É /stats –¥–ª—è –ø–æ–∫–∞–∑–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

---

### ‚å®Ô∏è `/grammy-keyboard` - –°–æ–∑–¥–∞–Ω–∏–µ inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
–°–æ–∑–¥–∞—ë—Ç inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –∫–Ω–æ–ø–æ–∫:
- Callback –∫–Ω–æ–ø–∫–∏ (–¥–µ–π—Å—Ç–≤–∏—è –≤ –±–æ—Ç–µ)
- URL –∫–Ω–æ–ø–∫–∏ (–≤–Ω–µ—à–Ω–∏–µ —Å—Å—ã–ª–∫–∏)
- Web App –∫–Ω–æ–ø–∫–∏ (–≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```
/grammy-keyboard —Å–æ–∑–¥–∞–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ "–ü–æ–∏—Å–∫" –∏ "–ò—Å—Ç–æ—Ä–∏—è"
```

---

### üéØ `/grammy-handler` - –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–æ–±—ã—Ç–∏–π
–î–æ–±–∞–≤–ª—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π:
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π (—Ç–µ–∫—Å—Ç, —Ñ–æ—Ç–æ, –¥–æ–∫—É–º–µ–Ω—Ç—ã)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ callback-–∫–Ω–æ–ø–æ–∫
- –û–±—Ä–∞–±–æ—Ç–∫–∞ inline-–∑–∞–ø—Ä–æ—Å–æ–≤

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```
/grammy-handler –¥–æ–±–∞–≤—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
```

---

### üé® `/grammy-template` - –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –æ—Ç–≤–µ—Ç–∞
–°–æ–∑–¥–∞—ë—Ç Handlebars-—à–∞–±–ª–æ–Ω—ã –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –±–æ—Ç–∞:
- –ú–µ—Ç–æ–¥—ã —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –≤ `BotTemplateService`
- `.hbs` —Ñ–∞–π–ª—ã –≤ `src/bot/templates/`
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ HTML-—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è Telegram

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```
/grammy-template —Å–æ–∑–¥–∞–π —à–∞–±–ª–æ–Ω –¥–ª—è –ø–æ–∫–∞–∑–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

---

### üîß `/grammy-middleware` - –°–æ–∑–¥–∞–Ω–∏–µ middleware
–î–æ–±–∞–≤–ª—è–µ—Ç middleware –¥–ª—è —Å–∫–≤–æ–∑–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏:
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- Rate limiting
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ò–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```
/grammy-middleware –¥–æ–±–∞–≤—å rate limiting - –º–∞–∫—Å–∏–º—É–º 5 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É
```

---

## –û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:

### 1Ô∏è‚É£ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
–í—Å–µ skills —Å–ª–µ–¥—É—é—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞:
- **NestJS** –º–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **grammY** –¥–ª—è Telegram Bot API
- **TypeORM** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
- **Handlebars** –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤

### 2Ô∏è‚É£ –ü–∞—Ç—Ç–µ—Ä–Ω—ã
- Upsert –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ `TelegramUsersService`
- –®–∞–±–ª–æ–Ω—ã —á–µ—Ä–µ–∑ `BotTemplateService`
- HTML-—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É Telegram
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ —á–µ—Ä–µ–∑ `npm run typecheck`

### 3Ô∏è‚É£ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è `ctx.from`
- Escape HTML —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–∂–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π

---

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

1. –í—ã–∑–æ–≤–∏ –Ω—É–∂–Ω—ã–π skill —á–µ—Ä–µ–∑ `/` –∫–æ–º–∞–Ω–¥—É
2. –û–ø–∏—à–∏ —á—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å
3. Skill –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
   - –ü—Ä–æ—á–∏—Ç–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥
   - –î–æ–±–∞–≤–∏—Ç –Ω–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
   - –°–æ–∑–¥–∞—Å—Ç —Ç–µ—Å—Ç—ã
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç —Ç–∏–ø—ã

---

## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–¥–∞—á:

### –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É /settings
```
/grammy-command —Å–æ–∑–¥–∞–π –∫–æ–º–∞–Ω–¥—É /settings –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

### –°–æ–∑–¥–∞—Ç—å –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–∞–º–∏
```
/grammy-keyboard —Å–æ–∑–¥–∞–π –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–∞–º–∏: "–ê–Ω–∞–ª–∏–∑", "–ò—Å—Ç–æ—Ä–∏—è", "–ù–∞—Å—Ç—Ä–æ–π–∫–∏"
```

### –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ñ–æ—Ç–æ
```
/grammy-handler –¥–æ–±–∞–≤—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–æ—Ç–æ, –∫–æ—Ç–æ—Ä—ã–π –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ–∫—Å—Ç —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
```

### –®–∞–±–ª–æ–Ω –¥–ª—è –æ—Ç—á—ë—Ç–∞
```
/grammy-template —Å–æ–∑–¥–∞–π —à–∞–±–ª–æ–Ω –¥–ª—è –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ –æ—Ç—á—ë—Ç–∞ —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
```

### –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞
```
/grammy-middleware –¥–æ–±–∞–≤—å –∞–Ω—Ç–∏—Å–ø–∞–º - –º–∞–∫—Å–∏–º—É–º 3 —Å–æ–æ–±—â–µ–Ω–∏—è –≤ 10 —Å–µ–∫—É–Ω–¥
```

---

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è grammY

- [grammY Guide](https://grammy.dev/guide/)
- [grammY API Reference](https://doc.deno.land/https://deno.land/x/grammy/mod.ts)
- [Telegram Bot API](https://core.telegram.org/bots/api)

---

–í—Å–µ skills —Å–æ–∑–¥–∞—é—Ç –∫–æ–¥, —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –ø—Ä–æ–µ–∫—Ç–∞ AirPost.